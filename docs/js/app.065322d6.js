(function(e){function t(t){for(var n,i,l=t[0],u=t[1],c=t[2],v=0,d=[];v<l.length;v++)i=l[v],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);s&&s(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,l=1;l<a.length;l++){var u=a[l];0!==r[u]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var s=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"38e0":function(e,t,a){},5467:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Description",{attrs:{msg:"画像を省略するやつ"}}),a("DrawingCanvas")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("v-card",[a("v-card-title",[e._v(e._s(e.msg)),a("v-spacer"),a("v-btn",{on:{click:function(t){e.show=!e.show}}},[e._v("説明")])],1),a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[a("p",[e._v("グレー背景に、画像をペーストorドロップしてください。")]),a("p",[e._v("省略したい箇所をクリックして画像の一部を省略できます。")]),a("p",[e._v("［download］ボタンでダウンロードできます。")]),a("p",[e._v("［original］ボタンで加工前の画像を表示できます。")])])],1)],1)},l=[],u={name:"Description",props:{msg:String},data:function(){return{show:!1}}},c=u,s=(a("71f1"),a("2877")),v=a("6544"),d=a.n(v),f=a("8336"),p=a("b0af"),g=a("99d9"),w=a("2fa4"),h=Object(s["a"])(c,i,l,!1,null,"29894d9b",null),m=h.exports;d()(h,{VBtn:f["a"],VCard:p["a"],VCardText:g["a"],VCardTitle:g["b"],VSpacer:w["a"]});var b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{id:"container"},on:{paste:e.pasteImage,dragover:e.dragover,drop:function(t){return t.stopPropagation(),e.dropImage(t)}}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.src,expression:"src"}],on:{click:function(t){return e.drawInitialCanvas()}}},[e._v("original")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.src,expression:"src"}],on:{click:function(t){return e.downloadImage()}}},[e._v("download")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[e._v(" original image "),a("canvas",{ref:"originalCanvas",attrs:{width:"500",height:"1000"},on:{mousedown:e.mousedown,mouseup:e.mouseup}})]),a("v-col",{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[e._v(" processed image "),a("canvas",{ref:"processedCanvas",attrs:{width:"500",height:"1000"}}),a("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"downloadLink",attrs:{id:"downloadLink",download:"canvas.png"}},[e._v("download link")])])],1)],1)},O=[],j=(a("cb29"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("a6f4")),C=Object(j["b"])({name:"DrawingCanvas",setup:function(){var e=Object(j["e"])({start:50,end:100}),t=Object(j["e"])(0),a=Object(j["e"])(""),n=Object(j["e"])(),r=Object(j["e"])(),o=Object(j["e"])(),i=Object(j["e"])(),l=Object(j["e"])(),u=Object(j["e"])(),c=function(){s(n.value),s(r.value),console.log("draw original image");var e=new Image;e.src=a.value;var t=e.width,l=e.height;n.value.height=500*l/t,u.value=500/t,o.value.drawImage(e,0,0,t,l,0,0,500,500*l/t),console.log("draw processed image");var c=new Image;c.src=a.value;var v=c.width,d=c.height;r.value.height=500*d/v,i.value.drawImage(c,0,0,v,d,0,0,500,500*d/v)},s=function(e){var t=e.getContext("2d");e.width=500,e.height=1e3,t.clearRect(0,0,e.width,e.height)},v=function(e,t,a,n){e.drawImage(t,0,0,t.width,a,0,0,n,a*n/t.width)},d=function(e,t,a,n,r){e.drawImage(t,0,n,t.width,t.height-n,0,a*r/t.width,r,(t.height-n)*r/t.width)},f=function(e,t,a,n){e.beginPath(),e.moveTo(0,a*n/t.width-5);for(var r=0;r<10;r++){var o=r%2==0?10:-10;e.quadraticCurveTo(25+r*(n/10),a*n/t.width+o-5,(r+1)*(n/10),a*n/t.width-5)}e.lineTo(n,a*n/t.width+5);for(var i=10;i>0;i--){var l=i%2==0?-10:10;e.quadraticCurveTo(25+n/10*(i-1),a*n/t.width+l+5,n/10*(i-1),a*n/t.width+5)}e.lineTo(0,a*n/t.width),e.fillStyle="rgb(255,255,255)",e.fill(),e.strokeStyle="gray",e.stroke()},p=function(){s(r.value);var t=new Image;if(t.src=a.value,e.value.start>e.value.end){var n=e.value.start,o=e.value.end;e.value.start=o,e.value.end=n}var l=t.width,u=t.height;r.value.height=500*u/l,setTimeout((function(){v(i.value,t,e.value.start,500),d(i.value,t,e.value.start,e.value.end,500),f(i.value,t,e.value.start,500)}),100)},g=function(e){console.log("called paste image()"),e.preventDefault(),e.stopPropagation();var t=e.clipboardData.items[0].getAsFile();console.log(t);var n=window.URL.createObjectURL(t);a.value=n,console.log(n),c()},w=function(e){e.preventDefault();var t=e.dataTransfer.files;if(1===t.length&&0===t[0].type.indexOf("image")){var n=t[0],r=window.URL.createObjectURL(n);a.value=r,c()}else console.log("画像ファイルではありません。")},h=function(e){e.preventDefault()},m=function(){var e=l.value;e.href=r.value.toDataURL(),e.click()},b=function(t){var a=n.value.getBoundingClientRect();e.value.start=(t.clientY-a.top)/u.value,e.value.end=(t.clientY-a.top)/u.value},O=function(t){var a=n.value.getBoundingClientRect();e.value.end=(t.clientY-a.top)/u.value,p()};return Object(j["c"])((function(){o.value=n.value.getContext("2d"),i.value=r.value.getContext("2d")})),Object(j["d"])((function(){})),Object(j["f"])(a,(function(){setTimeout((function(){c()}),100)})),{range:e,value:t,src:a,imageRatio:u,originalCanvas:n,processedCanvas:r,originalContext:o,processedContext:i,downloadLink:l,drawInitialCanvas:c,mousedown:b,mouseup:O,process:p,pasteImage:g,drawUpperImage:v,drawLowerImage:d,drawMiddleImage:f,dropImage:w,dragover:h,downloadImage:m}}}),_=C,x=(a("a604"),a("62ad")),y=a("a523"),I=a("0fd9"),k=Object(s["a"])(_,b,O,!1,null,"1dbcc37d",null),T=k.exports;d()(k,{VBtn:f["a"],VCol:x["a"],VContainer:y["a"],VRow:I["a"]});var D={name:"App",components:{Description:m,DrawingCanvas:T},data:function(){return{}}},P=D,R=(a("034f"),Object(s["a"])(P,r,o,!1,null,null,null)),L=R.exports,S=a("f309");n["default"].use(S["a"]);var V=new S["a"]({});n["default"].use(j["a"]),n["default"].config.productionTip=!1,new n["default"]({vuetify:V,render:function(e){return e(L)}}).$mount("#app")},"71f1":function(e,t,a){"use strict";a("38e0")},"85ec":function(e,t,a){},a604:function(e,t,a){"use strict";a("5467")}});
//# sourceMappingURL=app.065322d6.js.map